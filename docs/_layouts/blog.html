---
layout: page_wrapper
---

<main>
    <!-- Tag Filter with Title -->
    <section class="blog-tags-section">
        <!-- {{  page.title | default: "Blog" }} -->
<!--        <div class="section-header separate">-->
<!--            <span class="desktop-hidden title">Blog</span>-->
<!--        </div>-->

        <h1 class="blog-title">Blog</h1>
        <div class="blog-tags-filter">
            <a href="{{ '/blog' | relative_url }}" class="tag{% if page.tag == nil %} active{% endif %}">All Posts ({{
                site.posts.size }})</a>
            {% capture site_tags %}{% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless
            %}{% endfor %}{% endcapture %}
            {% assign tags_list = site_tags | split:',' | sort_natural %}
            {% for tag in tags_list %}
            {% assign tag_name = tag | strip_newlines %}
            <a href="{{ '/blog/' | append: tag_name | replace: ' ', '_' | relative_url }}"
               class="tag{% if page.tag == tag_name %} active{% endif %}">{{ tag_name }} ({{ site.tags[tag_name].size
                }})</a>
            {% endfor %}
        </div>
    </section>

    <!-- Blog Posts -->
    <section class="blog-posts-section">
        <ul class="blog-list separate">
            {% if page.tag %}
            {% assign filtered_posts = site.tags[page.tag] %}
            {% else %}
            {% assign filtered_posts = site.posts %}
            {% endif %}

            {% for post in filtered_posts %}
            {% include blog_post.html
            image=post.title-image
            date=post.date
            read_time=post.read_time
            title=post.title
            url=post.url
            description=post.short-abstract
            tags=post.tags
            %}
            {% endfor %}
        </ul>
    </section>
</main>
