{% comment %}
Post Header Include
Displays post header with image and metadata in a stacked layout
{% endcomment %}

<header class="post-header{% if include.image %} wide-content has-image{% endif %}">
    {%- if include.image -%}
    <div class="post-header-image">
        <img src="{{ '/assets/content_compressed/' | append: include.image | append: '-960w.avif' | relative_url }}" 
             srcset="{{ '/assets/content_compressed/' | append: include.image | append: '-640w.avif' | relative_url }} 640w,
                     {{ '/assets/content_compressed/' | append: include.image | append: '-960w.avif' | relative_url }} 960w,
                     {{ '/assets/content_compressed/' | append: include.image | append: '-1280w.avif' | relative_url }} 1280w"
             sizes="(min-width: 1080px) 500px, 100vw"
             alt="{{ include.title }}"
             loading="eager"
             decoding="async"/>
    </div>
    {%- endif -%}
    
    <div class="post-header-info">
        {%- comment -%} Navigation breadcrumb - commented out for now
        <div class="post-breadcrumb">
            <a href="{{ '/' | relative_url }}">Home</a>
            <span class="breadcrumb-separator">›</span>
            <a href="{{ '/blog' | relative_url }}">Posts</a>
            <span class="breadcrumb-separator">›</span>
        </div>
        {%- endcomment -%}
        
        {%- comment -%} Title {%- endcomment -%}
        <h1 class="post-title p-name" itemprop="name headline">{{ include.title | escape }}</h1>
        
        {%- comment -%} Subtitle/Abstract {%- endcomment -%}
        {%- if include.abstract -%}
        <div class="post-subtitle">
            {{ include.abstract }}
        </div>
        {%- endif -%}
        
        {%- comment -%} Tags, Read time and Publication date in one line {%- endcomment -%}
        <div class="post-meta-line">
            {%- if include.tags -%}
            <div class="post-tags-container">
                {% include tags.html tags=include.tags %}
            </div>
            {%- endif -%}
            <span class="spacer"></span>
            {%- if include.read_time -%}
            <span class="post-read-time">{{ include.read_time }} minute read</span>
            {%- endif -%}
            {%- if include.read_time and include.date -%}
            <span class="separator">•</span>
            {%- endif -%}
            {%- if include.date -%}
            {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
            <time class="dt-published" datetime="{{ include.date | date_to_xmlschema }}" itemprop="datePublished">
                {{ include.date | date: date_format }}
            </time>
            {%- endif -%}
        </div>
        
        {%- comment -%} Author {%- endcomment -%}
        <div class="post-author">
            {%- if site.data.site.profile.avatar -%}
            <a href="{{ '/about' | relative_url }}" class="post-author-link">
                <img src="{{ site.data.site.profile.avatar | relative_url }}" alt="{{ site.data.site.profile.name }}" class="post-author-avatar">
            </a>
            {%- endif -%}
            <div class="post-author-info">
                <a href="{{ '/about' | relative_url }}" class="post-author-name">{{ site.data.site.profile.name }}</a>
                {%- if site.data.about.profile.role -%}
                <span class="post-author-role">{{ site.data.about.profile.role }}</span>
                {%- endif -%}
            </div>
        </div>
    </div>
</header>
