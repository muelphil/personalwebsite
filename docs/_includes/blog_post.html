<li class="blog-post{% if include.image_right %} image-right{% endif %}">
    <div class="blog-post-image">
        {% if include.image %}
            <img src="{{ '/assets/content_compressed/' | append: include.image | append: '-320w.avif' | relative_url }}" 
                 srcset="{{ '/assets/content_compressed/' | append: include.image | append: '-320w.avif' | relative_url }} 320w,
                         {{ '/assets/content_compressed/' | append: include.image | append: '-640w.avif' | relative_url }} 640w"
                 sizes="110px"
                 alt="{{ include.title }}"
                 loading="lazy"
                 decoding="async">
        {% else %}
            {%- comment -%}
            Calculate hue rotation from title by summing character positions
            {%- endcomment -%}
            {%- assign hash = 0 -%}
            {%- assign chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 " | split: "" -%}
            {%- assign title_chars = include.title | split: "" -%}
            
            {%- for char in title_chars -%}
                {%- assign char_value = 0 -%}
                {%- for c in chars -%}
                    {%- if c == char -%}
                        {%- assign char_value = forloop.index -%}
                        {%- break -%}
                    {%- endif -%}
                {%- endfor -%}
                {%- assign hash = hash | plus: char_value | times: 7 -%}
            {%- endfor -%}
            
            {%- assign hue = hash | modulo: 360 -%}
            <img src="{{ '/assets/placeholder.avif' | relative_url }}"
                 alt="{{ include.title }}"
                 loading="lazy"
                 decoding="async"
                 style="-webkit-filter: sepia(90%) hue-rotate({{ hue }}deg); filter: sepia(90%) hue-rotate({{ hue }}deg);">
        {% endif %}
    </div>
    <div class="blog-post-content">
        <div class="blog-post-meta">
            {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}

            {% if include.date %}
            <span>{{ include.date | date: date_format | upcase  }}</span>
            {% endif %}
            {% if include.read_time %}
            <span>{{ include.read_time }}{% if include.read_time contains 'MIN' %}{% else %} MIN READ{% endif %}</span>
            {% endif %}
        </div>
        <h3 class="blog-post-title">
            <a href="{{ include.url | relative_url }}">{{ include.title }}</a>
        </h3>
        {% if include.description and include.include_description != false %}
        <p class="blog-post-description">
            {{ include.description }}
        </p>
        {% endif %}
        {% include tags.html tags=include.tags %}
    </div>
</li>
