{% assign number = include.number | minus: 1 %}
<figure class="image image-gallery-container {%- if include.wide -%}{{' wide'}}{%- endif -%}">
    <div class="gallery">
        {% for item in page.carousels[number].images %}
        <div class="img-container">
            <img src="{{ '/assets/content_compressed/' | append: item.image | append: '-640w.avif' | relative_url }}" 
                 srcset="{{ '/assets/content_compressed/' | append: item.image | append: '-320w.avif' | relative_url }} 320w,
                         {{ '/assets/content_compressed/' | append: item.image | append: '-640w.avif' | relative_url }} 640w,
                         {{ '/assets/content_compressed/' | append: item.image | append: '-960w.avif' | relative_url }} 960w"
                 sizes="(min-width: 768px) 300px, 200px"
                 loading="lazy"
                 decoding="async"
                 data-enlargable="{{ '/assets/content_compressed/' | append: item.image | append: '-1280w.avif' | relative_url }}"
                 onclick="window.enlarge(event)"/>
        </div>
        {% endfor %}
    </div>
    <figcaption>{{ include.description }}</figcaption>
</figure>
<!-- https://codepen.io/sarus/pen/PJGPmy -->
<!-- https://stackoverflow.com/questions/53309750/jekyll-get-width-height-of-an-image-without-using-an-external-plugin -->
<style>
    figure.image .gallery {
        display: flex;
        flex-direction: row;
        gap: 8px;
    }

</style>

